<div id="main" style="display: none" ng-controller="Transactional">
    
  <input type="hidden" name="gatewayFingerprint" id="gatewayFingerprint">
  <input type="hidden" name="buyWithCieloInfo" id="buyWithCieloInfo" value="}">
  <input type="hidden" name="buyWithVisaCheckoutInfo" id="buyWithVisaCheckoutInfo" value="">

  <div id="meucheckoutPanel" class="panel panel-default">
    <div class="panel-heading">
      <div style="text-align: center; color:white">
        <i class="glyphicon glyphicon-info-sign fa-2x"></i>
      </div>
    </div>
    <div class="panel-body panel-body-sm">
      <div class="row">
        <div class="col-lg-8 col-sm-12">
          <div id="login" ng-controller="Login">
            <div class="welcome">
              <img src="./assets/images/logo-cielo.png" alt="Checkout Cielo"
                title="Checkout Cielo" class="img-logo" />
              </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!--
<div class="cielo_language">
    <h4>
        {{ translation.Label.Language }}:
        <img class="cielo_flag_spain" src="/TransactionalVNext/img/flags/spain.png" alt="Español" ng-click="setLanguage('es-ES')" ng-hide="language == 'es-ES'" />
        <img class="cielo_flag_gbrit" src="/TransactionalVNext/img/flags/gbrit.png" alt="English" ng-click="setLanguage('en-US')" ng-hide="language == 'en-US'" />
        <img class="cielo_flag_brazil" src="/TransactionalVNext/img/flags/brazil.png" alt="Português" ng-click="setLanguage('pt-BR')" ng-hide="language == 'pt-BR'" />
    </h4>

    <div class="cielo_flag_brazil_mobile" ng-hide="language == 'pt-BR'">
        <img src="/TransactionalVNext/img/mobile/flags/brazil.jpg" alt="Português" ng-click="setLanguage('pt-BR')" /> PT
    </div>

    <div class="cielo_flag_spain_mobile" ng-hide="language == 'es-ES'">
        <img src="/TransactionalVNext/img/mobile/flags/es.png" alt="Español" ng-click="setLanguage('es-ES')" /> ES
    </div>

    <div class="cielo_flag_gbrit_mobile" ng-hide="language == 'en-US'">
        <img src="/TransactionalVNext/img/mobile/flags/gbt.png" alt="English" ng-click="setLanguage('en-US')" /> EN
    </div>
</div>

<div class="thumbnail-form" ng-show="!displayBoxIdentification()">
    <div class="form-group col-lg-12 col-sm-12 col-xs-11">
        <h2 class="legend">
            {{ translation.Title.Identification }}
        </h2>
    </div>

    <div class="form-group" ng-if="user.isGuest == false">
        <div class="form-group col-lg-6 col-sm-6 col-xs-6">
            <label>
                {{ translation.Label.GuestName }}:
            </label>
            <span>
                {{ user.name}}
            </span>
        </div>

        <div class="form-group col-lg-6 col-sm-6 col-xs-6">
            <label>
                {{ translation.Label.Email }}:
            </label>
            <span>
                {{ user.email }}
            </span>
        </div>

        <div class="form-group col-lg-6 col-sm-6 col-xs-6">
            <label>
                {{ translation.Label.Identity }}:
            </label>
            <span>
                {{ user.identity }}
            </span>
        </div>

        <div class="form-group col-lg-6 col-sm-6 col-xs-6">
            <label>
                {{ translation.Label.Phone }}:
            </label>
            <span>
                {{ user.phoneFormat }}
            </span>
        </div>
    </div>
    
    <div class="form-group" ng-if="order.payment.isVisaCheckout == true">
        <div class="form-group col-lg-6 col-sm-6 col-xs-6">
            <label>
                {{ translation.Label.GuestName }}:
            </label>
            <span>
                {{ user.guest.fullName }}
            </span>
        </div>

        <div class="form-group col-lg-6 col-sm-6 col-xs-6">
            <label>
                {{ translation.Label.Email }}:
            </label>
            <span>
                {{ user.guest.email }}
            </span>
        </div>

        <div class="form-group col-lg-6 col-sm-6 col-xs-6">
            <label>
                {{ translation.Label.Identity }}:
            </label>
            <span>
                {{ user.guest.identity }}
            </span>
        </div>

        <div class="form-group col-lg-6 col-sm-6 col-xs-6">
            <label>
                {{ translation.Label.Phone }}:
            </label>
            <span>
                {{ user.guest.phone }}
            </span>
        </div>
    </div>
</div>

<div class="thumbnail-car">
</div>


<div class="thumbnail-form" ng-show="user.isGuest == true && order.payment.isVisaCheckout == false">
    <div ng-show="viewModel.VisaCheckoutCredentials.Enabled">
        <div class="form-group col-lg-1 col-sm-1 col-xs-2">
            <img src="/TransactionalVNext/Content/Images/lock.png" />
        </div>

        <div class="form-group"></div>

        <div class="form-group col-lg-11 col-sm-11 col-xs-9 form-group">

            <div class="form-group"></div>

            <p class="text-left">
                {{ translation.Title.BuyFastWith }}
            </p>

            <div class="row">

                <div class="col-lg-4 col-sm-4 col-xs-12 form-group">
                    <img alt="Visa Checkout" class="v-button" role="button"
                         ng-src="{{ viewModel.VisaCheckoutCredentials.ButtonUrl }}" id="botaoVisaCheckout" />
                </div>

                <div class="col-lg-2 col-sm-3 col-xs-12 form-group">
                    <p class="divider">{{ translation.Label.Or }}</p>
                </div>

                <div class="col-lg-4 col-sm-4 col-xs-12 form-group">
                    <a href="#" title="Checkout Cielo" ng-click="displayLoginForm=!displayLoginForm">
                        <img alt="Checkout Cielo" role="button" src="/TransactionalVNext/Content/Images/botao-cielo.png" id="botaoCielo" />
                    </a>
                </div>
                <div class="col-lg-1"></div>
            </div>
        </div>
    </div>

    <div ng-show="viewModel.VisaCheckoutCredentials.Enabled == false">
        <div class="form-group col-lg-10 col-sm-10 col-xs-8 pull-left">
            <a href="#" title="Checkout Cielo" ng-click="displayLoginForm=!displayLoginForm">
                {{ translation.Information.BuyFastWithCielo }}
            </a>
        </div>

        <div class="form-group col-lg-2 col-sm-2 col-xs-4 pull-right">
            <img src="/TransactionalVNext/Content/Images/lock.png" class="lock" />
        </div>

        <div class="form-group col-lg-10 col-sm-10 col-xs-8 pull-left">
            <span>
                {{ translation.Information.BuyFastWithCieloInfo }}
            </span>
        </div>
    </div>
</div>

                        <script type="text/javascript" src="https://www.google.com/recaptcha/api/js/recaptcha_ajax.js"></script>

<div ng-show="displayBoxIdentification()">
    <div class="row" collapse="!displayLoginForm" ng-init="displayLoginForm=false">
        <div class="col-sm-12 col-md-12">
            <div class="thumbnail-form">
                <form id="loginForm" name="loginForm" data-custom-submit="login()"
                      class="form-inline" role="form" novalidate>

                    <div class="col-lg-12">
                        <h2 class="legend">
                            {{ translation.Title.SignIn }}
                        </h2>
                        <p class="textonly">
                            {{ translation.Information.DetailsToCompletePurchase }}
                        </p>
                    </div>

                    <div class="form-group col-lg-8 col-sm-6 col-xs-12">
                        <span>
                            {{ translation.Label.Email }}
                        </span>

                        <div class="custom-error-container">
                            <input id="userEmail" name="userEmail" type="email" class="form-control" ng-model="user.email" autocomplete="off" ng-pattern="emailPattern"
                                   required maxlength="100" placeholder="{{ translation.Label.Email }}" ng-paste="disabledCopyPaste($event)" validate-on-blur />
                            <div class="custom-error" ng-show="loginForm.userEmail.$showValidationMessage && loginForm.userEmail.$invalid">
                                <span ng-show="formSubmit.userEmail.$error.pattern">
                                    {{ translation.Validation.InvalidEmail }}
                                </span>
                                <span ng-show="loginForm.userEmail.$error.required">
                                    {{ translation.Validation.Required }}
                                </span>
                                <span ng-show="loginForm.userEmail.$error.maxlength">
                                    {{ translation.Validation.MaxLength }}
                                </span>
                                <span ng-show="loginForm.userEmail.$error.email">
                                    {{ translation.Validation.InvalidEmail }}
                                </span>
                            </div>
                            <div class="form-group col-lg-12 pull-left" ng-show="displayRecaptcha" ng-init="displayRecaptcha=false">
                                <br />
                                <div id="captchadiv"></div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group col-lg-4 col-sm-6 col-xs-12">
                        <span>
                            {{ translation.Label.Password }}
                        </span>
                        <div class="custom-error-container">
                            <input id="password" name="password" type="password" class="form-control" placeholder="{{ translation.Label.Password }}" ng-model="user.password"
                                   ng-paste="disabledCopyPaste($event)" required autocomplete="off" ng-minlength="5" maxlength="30" validate-on-blur />
                            <div class="custom-error" ng-show="loginForm.password.$showValidationMessage && loginForm.password.$invalid">
                                <span ng-show="loginForm.password.$error.required">
                                    {{ translation.Validation.Required }}
                                </span>
                                <span ng-show="loginForm.password.$error.maxlength">
                                    {{ translation.Validation.MaxLength }}
                                </span>
                                <span ng-show="loginForm.password.$error.minlength">
                                    {{ translation.Validation.MinLength | stringFormat:[5] }}
                                </span>
                            </div>
                        </div>

                        <p class="btn-submit">
                            <button id="btnLogin" type="submit" class="button pull-right">
                                {{ translation.Buttons.Save }}
                            </button>
                            <br /><br />
                            <span class="login-links pull-right">
                                <a id="forgotPassword" target="_blank" href="/backoffice/Auth/ForgetPassword?email={{user.email}}">
                                    {{ translation.Label.RecoverPassword }}
                                </a><br />
                                <a id="rollbackLogin" href="#" ng-click="cleanForm()">
                                    {{ translation.Buttons.Back }}
                                </a>
                            </span>
                        </p>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


                    </div>

                    <form id="formSubmit" name="formSubmit" apply-submit="submit()" applysubmit class="form-inline"
                          role="form" novalidate>
                        <div id="shippingAddress" ng-controller="ShippingAddress"
     ng-show="shippingAddressBehavior.displayBoxAddress">
    <div class="thumbnail-form">
        <div class="col-lg-12">
            <h2 class="legend">
                {{ translation.Title.ShippingAddress }}
            </h2>
        </div>

        <div ng-show="addressCollection.length > 0">
            <div class="form-group col-lg-6 col-xs-6">
                <label for="address">
                    {{ translation.Label.MyAddresses }}
                </label>

                <select id="address" name="address" ng-model="order.shippingAddress.address"
                        ng-options="i.Id as i.Alias for i in addressCollection"
                        class="form-control">
                    <option value="">
                        {{ translation.Label.ChooseAnother }}
                    </option>
                </select>
            </div>

            <div class="form-group col-lg-6 col-xs-6" ng-if="order.shippingAddress.address != null">
                <a ng-click="addAddress()" class="action">
                    {{ translation.Label.ChooseAnother }}
                </a>
            </div>

            <div class="form-group col-lg-6 col-xs-6" ng-if="shippingAddressBehavior.formIsVisible">
                <label>
                    {{ translation.Label.AddressAlias }}
                </label>

                <div class="right-inner-addon">
                    <input id="alias" name="alias" type="text" class="form-control" ng-model="order.shippingAddress.alias"
                           maxlength="30" ng-paste="disabledCopyPaste($event)" validate-on-blur />

                    <div class="custom-error" ng-show="formSubmit.alias.$showValidationMessage && formSubmit.alias.$invalid">
                        <span ng-show="formSubmit.alias.$error.required">
                            {{ translation.Validation.Required }}
                        </span>
                    </div>
                </div>
            </div>

            <div class="form-group col-lg-12 col-xs-11" ng-if="order.shippingAddress.address">
                <p>
                    {{ translation.Title.ShippingAddress }}
                </p>
                <span class="readonly">{{ fullAddress }}</span> <br />
                <span class="readonly">{{ fullAddressState }}</span> <br />
                <span class="readonly">{{ translation.Label.ZipCode }} : {{ fullAddressZipCode }}</span> <br />
            </div>
        </div>

        <div ng-show="shippingAddressBehavior.formIsVisible">
            <div class="form-group col-lg-3 col-sm-3 col-xs-5">
                <span>
                    {{ translation.Label.ZipCode }}
                </span>

                <span class="glyphicon glyphicon-info-sign btn-xs" popover="Ex.: 99999-999" popover-trigger="mouseenter"></span>
                <div class="right-inner-addon">
                    <i class="glyphicon-loading" ng-show="displayLoading" ng-init="displayLoading=false"></i>

                    <input name="shippingzipCode" type="text" class="form-control" ng-model="order.shippingAddress.zipcode"
                           ng-disabled="zipCodeDisabled" ui-mask="99999-999" ng-required="shippingAddressBehavior.isRequired"
                           autocomplete="off">

                    <div class="custom-error" ng-show="formSubmit.shippingzipCode.$showValidationMessage && formSubmit.shippingzipCode.$invalid">
                        <span ng-show="formSubmit.shippingzipCode.$error.required">
                            {{ translation.Validation.Required }}
                        </span>
                    </div>
                </div>
            </div>

            <div class="form-group col-lg-6 col-sm-9 col-xs-7" ng-show="shippingAddressBehavior.addressSent == false">
                <div style="margin-top: 25px;">
                    <a href="http://www.buscacep.correios.com.br/servicos/dnec/index.do" target="_blank" id="delivery-find-cep">
                        {{ translation.Label.DoNotKnowTheZipCode }}
                    </a>
                </div>
            </div>

            <div collapse="!shippingAddressBehavior.zipCodeFound">
                <div class="form-group col-lg-12 col-xs-11 col-sm-12">
                    <span>
                        {{ translation.Label.Street }}
                    </span>
                    <div class="custom-error-container">
                        <input id="street" name="street" ng-model="order.shippingAddress.street"
                               ng-required="shippingAddressBehavior.isRequired"
                               ng-disabled="shippingStreetDisabled" type="text" class="form-control" maxlength="256"
                               ng-paste="disabledCopyPaste($event)" validate-on-blur autocomplete="off" />
                        <div class="custom-error" ng-show="formSubmit.street.$showValidationMessage && formSubmit.street.$invalid">
                            <span ng-show="formSubmit.street.$error.required">
                                {{ translation.Validation.Required }}
                            </span>
                            <span ng-show="formSubmit.street.$error.maxlength">
                                {{ translation.Validation.MaxLength }}
                            </span>
                        </div>
                    </div>
                </div>

                <div class="form-group col-lg-4 col-xs-11 col-sm-4">
                    <span>
                        {{ translation.Label.District }}
                    </span>
                    <div class="custom-error-container">
                        <input id="district" name="district" ng-model="order.shippingAddress.district"
                               ng-required="shippingAddressBehavior.isRequired"
                               ng-disabled="shippingDistrictDisabled" type="text" class="form-control" maxlength="64"
                               ng-paste="disabledCopyPaste($event)" validate-on-blur autocomplete="off" />
                        <div class="custom-error" ng-show="formSubmit.district.$showValidationMessage && formSubmit.district.$invalid">
                            <span ng-show="formSubmit.district.$error.required">
                                {{ translation.Validation.Required }}
                            </span>
                            <span ng-show="formSubmit.district.$error.maxlength">
                                {{ translation.Validation.MaxLength }}
                            </span>
                        </div>
                    </div>
                </div>

                <div class="form-group col-lg-2 col-xs-5 col-sm-2">
                    <span>
                        {{ translation.Label.Number }}
                    </span>
                    <div class="custom-error-container">
                        <input id="number" name="number" type="text" class="form-control" ng-disabled="shippingNumberDisabled"
                               ng-model="order.shippingAddress.number"
                               maxlength="8" ng-paste="disabledCopyPaste($event)" validate-on-blur autocomplete="off" />
                        <div class="custom-error" ng-show="formSubmit.number.$showValidationMessage && formSubmit.number.$invalid">
                            <span ng-show="formSubmit.number.$error.maxlength">
                                {{ translation.Validation.MaxLength }}
                            </span>
                        </div>
                    </div>
                </div>

                <div class="form-group col-lg-6 col-xs-6 col-sm-6">
                    <span>
                        {{ translation.Label.Compl }}
                    </span>
                    <div class="custom-error-container">
                        <input id="compl" name="compl" type="text" class="form-control" ng-disabled="shippingComplDisabled"
                               ng-model="order.shippingAddress.compl"
                               maxlength="256" ng-paste="disabledCopyPaste($event)" validate-on-blur autocomplete="off" />
                        <div class="custom-error" ng-show="formSubmit.compl.$showValidationMessage && formSubmit.compl.$invalid">
                            <span ng-show="formSubmit.compl.$error.maxlength">
                                {{ translation.Validation.MaxLength }}
                            </span>
                        </div>
                    </div>
                </div>

                <div class="form-group col-lg-8 col-xs-7 col-sm-8">
                    <span>
                        {{ translation.Label.City }}
                    </span>
                    <div class="custom-error-container">
                        <input id="city" name="city" ng-model="order.shippingAddress.city" ng-disabled="shippingCityDisabled"
                               type="text" class="form-control"
                               ng-required="shippingAddressBehavior.isRequired" maxlength="64" ng-paste="disabledCopyPaste($event)"
                               validate-on-blur autocomplete="off" />
                        <div class="custom-error" ng-show="formSubmit.city.$showValidationMessage && formSubmit.city.$invalid">
                            <span ng-show="formSubmit.city.$error.required">
                                {{ translation.Validation.Required }}
                            </span>
                            <span ng-show="formSubmit.city.$error.maxlength">
                                {{ translation.Validation.MaxLength }}
                            </span>
                        </div>
                    </div>
                </div>

                <div class="form-group col-lg-4 col-xs-4 col-sm-4">
                    <span>
                        {{ translation.Label.State }}
                    </span>
                    <div class="custom-error-container">
                        <input id="state" name="state" ng-model="order.shippingAddress.state"
                               ng-disabled="shippingStateDisabled" type="text" class="form-control"
                               ng-required="shippingAddressBehavior.isRequired"
                               maxlength="2" ng-paste="disabledCopyPaste($event)" validate-on-blur autocomplete="off" />
                        <div class="custom-error" ng-show="formSubmit.state.$showValidationMessage && formSubmit.state.$invalid">
                            <span ng-show="formSubmit.state.$error.required">
                                {{ translation.Validation.Required }}
                            </span>
                            <span ng-show="formSubmit.state.$error.maxlength">
                                {{ translation.Validation.MaxLength }}
                            </span>
                        </div>
                    </div>
                </div>

                <div class="form-group col-lg-12"> </div>

                <div class="form-group col-lg-12 col-xs-11 col-sm-12"
                     ng-show="addressCollection.length > 0 && shippingAddressBehavior.isRequired">

                    <input id="addressIsDefault" type="checkbox" 
                           ng-model="order.shippingAddress.addressIsDefault">
                    {{ translation.Label.MainAddress }}
                </div>

            </div>
        </div>
    </div>

    <div class="row" ng-show="shippingCollection.length > 0">
        <div class="col-sm-12 col-md-12">
            <div class="thumbnail">
                <div class="col-lg-12">
                    <h2 class="legend">
                        {{ translation.Title.ShippingType }}
                    </h2>
                </div>
                <div class="col-lg-12">
                    <label ng-repeat="shipping in shippingCollection">
                        <input name="shippingPrice" id="shippingPrice" type="radio" class="radio" value="{{ shipping.Id }}" ng-model="order.shipping.shippingMethodId" />
                        {{ shipping.Description }}
                    </label>
                </div>
            </div>
        </div>
    </div>
</div>

                        <div class="row">
                            <div class="col-sm-12 col-md-12">
                                <div class="thumbnail-form">
                                    <div ng-controller="Payment">
    <div class="col-lg-12">
        <h2 class="legend">
            {{ translation.Title.PaymentType }}
        </h2>
    </div>

    <div ng-if="order.payment.isVisaCheckout == false">
        <div ng-show="paymentMethodsCollection.length > 1">
            <div class="col-lg-12">
                <div class="form-group">
                    <div ng-show="paymentMethodsCollection.length > 1">
                        <label ng-repeat="paymentType in paymentTypesCollection" style="text-align: left;">
                            <input name="paymentType" id="paymentType" type="radio" class="radio" value="{{ paymentType.Type }}"
                                   ng-model="order.payment.paymentType" />

                            <span class="paymentType" ng-if="paymentType.Type == 1">
                                {{ translation.Label.MobileTitle.CreditCardPayment }}
                                <span style='font-size:0.9em;color:red' ng-if="paymentType.Discount != null && paymentType.Discount > 0">
                                    ( {{ translation.Label.Discount }} {{ paymentType.Discount }} % )
                                </span>
                            </span>

                            <span class="paymentType" ng-if="paymentType.Type == 2">
                                {{ translation.Label.MobileTitle.BoletoPayment }}
                                <span style='font-size:0.9em;color:red' ng-if="paymentType.Discount != null && paymentType.Discount > 0">
                                    ( {{ translation.Label.Discount }} {{ paymentType.Discount }} % )
                                </span>
                            </span>

                            <span class="paymentType" ng-if="paymentType.Type == 3">
                                {{ translation.Label.MobileTitle.OnlineDebitPayment }}
                                <span style='font-size:0.9em;color:red' ng-if="paymentType.Discount != null && paymentType.Discount > 0">
                                    ( {{ translation.Label.Discount }} {{ paymentType.Discount }} % )
                                </span>
                            </span>

                            <span class="paymentType" ng-if="paymentType.Type == 4">
                                {{ translation.Label.MobileTitle.DebitCardPayment }}
                                <span style='font-size:0.9em;color:red' ng-if="paymentType.Discount != null && paymentType.Discount > 0">
                                    ( {{ translation.Label.Discount }} {{ paymentType.Discount }} % )
                                </span>
                            </span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="col-lg-12 col-sm-12 form-group" ng-show="payment.paymentType != 2">
                <span ng-show="order.payment.paymentType == 1">
                    {{ translation.Label.SelectTheCreditCardFlag }}
                </span>

                <span ng-show="order.payment.paymentType == 4">
                    {{ translation.Label.SelectTheDebitCardFlag }}
                </span>

                <span ng-show="order.payment.paymentType == 3">
                    {{ translation.Label.SelectBank }}
                </span>
            </div>

            <div class="form-group col-xs-12 col-sm-12 visible-xs" ng-show="order.payment.paymentType != 2">
                <select id="creditCard" ng-model="order.payment.paymentMethodId" ng-options="c.Id as c.Description for c in paymentMethodsCollection | filter:{ PaymentType: order.payment.paymentType }" class="input-sm"></select>
                <img ng-src="/TransactionalVNext/Content/Images/brand/{{ brandImage }}.gif" tooltip="{{ brandDescription }}" style="text-align: center; border: 0 none; margin-top: 0 !important" />
            </div>

            <div class="form-group col-lg-12 col-sm-12 hidden-xs" ng-show="order.payment.paymentType != 2">
                <label ng-repeat="paymentMethod in paymentMethodsCollection | filter:{ PaymentType: order.payment.paymentType }" class="brand">
                    <img ng-src="/TransactionalVNext/Content/Images/brand/{{ paymentMethod.Image }}.gif"
                         tooltip="{{ paymentMethod.Description }}" /> <br />
                    <input name="paymentMethodId" type="radio" class="radio" value="{{ paymentMethod.Id }}"
                           ng-required="(order.payment.paymentType == 1 || order.payment.paymentType == 3 || order.payment.paymentType == 4) && order.payment.paymentMethodId == null"
                           ng-model="order.payment.paymentMethodId" />
                </label>

                <div class="custom-error" ng-show="formSubmit.paymentMethodId.$showValidationMessage && formSubmit.paymentMethodId.$invalid">
                    <span ng-show="formSubmit.paymentMethodId.$error.required">
                        {{ translation.Validation.Required }}
                    </span>
                </div>
            </div>
        </div>

        <div ng-show="paymentMethodsCollection.length == 1">
            <div class="form-group col-lg-12 col-sm-12">
                <label ng-repeat="paymentType in paymentTypesCollection">
                    <input name="paymentType" type="hidden" value="{{ paymentType.Type }}"
                           ng-model="order.payment.paymentMethodId" />
                </label>

                <label ng-repeat="paymentMethod in paymentMethodsCollection | filter:{ PaymentType: order.payment.paymentType }" class="brand">
                    <img ng-src="/TransactionalVNext/Content/Images/brand/{{ paymentMethod.Image }}.gif" tooltip="{{ paymentMethod.Description }}" /> <br />
                    <input name="paymentMethodId" type="hidden" class="radio" value="{{ paymentMethod.Id }}"
                           ng-required="(order.payment.paymentType == 1 || order.payment.paymentType == 3 || order.payment.paymentType == 4) && order.payment.paymentMethodId == null"
                           ng-model="order.payment.paymentMethodId" />
                </label>

                <div class="custom-error" ng-show="formSubmit.paymentMethodId.$showValidationMessage && formSubmit.paymentMethodId.$invalid">
                    <span ng-show="formSubmit.paymentMethodId.$error.required">
                        {{ translation.Validation.Required }}
                    </span>
                </div>
            </div>
        </div>

        <div ng-show="(order.payment.paymentType == 1 || order.payment.paymentType == 4) && creditCardCollection.length > 0">

            <div class="form-group col-lg-4 col-xs-6">
                <label for="mycreditCard">
                    {{ translation.Label.MyCards }}
                </label>

                <select id="mycreditCard" ng-model="order.payment.creditCard"
                        ng-options="c.Id as c.MaskedNumber for c in creditCardCollection" class="form-control">
                    <option value="">{{ translation.Label.ChooseAnother }}</option>
                </select>

                <div class="custom-error" ng-show="formSubmit.creditCard.$showValidationMessage && formSubmit.creditCard.$invalid">
                    <span ng-show="formSubmit.creditCard.$error.required">
                        {{ translation.Validation.Required }}
                    </span>
                </div>
            </div>

            <div class="form-group col-lg-2 col-xs-2" ng-if="order.payment.creditCard != null">
                <img ng-src="/TransactionalVNext/Content/Images/brand/{{ brandImage }}.gif" tooltip="{{ brandDescription }}"
                     style="text-align: center; border: 0 none; margin-top: 30px !important" />
            </div>

            <div class="form-group col-lg-6 col-xs-4" ng-if="order.payment.creditCard != null">
                <a id="addCreditCard" ng-click="addCard()" class="form-group action">
                    {{ translation.Label.ChooseAnother }}
                </a>
            </div>

            <div class="form-group col-lg-12 col-xs-12"></div>

            <div ng-if="order.payment.creditCard != null">

                <div class="form-group col-lg-8 col-sm-6 col-xs-7">
                    <label for="registerInstallments">
                        {{ translation.Label.Installments }}
                    </label>

                    <select id="registerInstallments" name="registerInstallments" ng-model="order.payment.installmentsValue" ng-options="i.Installments as i.Description for i in installments"
                            class="form-control" ng-disabled="installments.length == 1" ng-required="paymentBehavior.installmentsIsRequired"></select>

                    <div class="custom-error" ng-show="formSubmit.registerInstallments.$showValidationMessage && formSubmit.registerInstallments.$invalid">
                        <span ng-show="formSubmit.registerInstallments.$error.required">
                            {{ translation.Validation.Required }}
                        </span>
                    </div>
                </div>

                <div class="form-group col-lg-4 col-sm-6 col-xs-7">
                    <label>
                        {{ translation.Label.SecurityCode }}
                    </label>

                    <span class="glyphicon glyphicon-info-sign btn-xs tip pull-right">
                        <img src="/TransactionalVNext/Content/Images/security.png"
                             alt="{{ translation.Information.SecurityCodeTitle }}" class="tooltip-custom" />
                    </span>

                    <div class="right-inner-addon">
                        <input id="registerSecurityCode" name="registerSecurityCode" type="text" ng-model="order.payment.securityCode" class="form-control"
                               numbers-only="numbers-only" validate-on-blur
                               ng-required="paymentBehavior.securityCodeIsRequired" autocomplete="off"
                               maxlength="4" ng-minlength="3" ng-maxlength="4"
                               ng-paste="disabledCopyPaste($event)" />

                        <div class="custom-error" ng-show="formSubmit.registerSecurityCode.$showValidationMessage && formSubmit.registerSecurityCode.$invalid">
                            <span ng-show="formSubmit.registerSecurityCode.$error.required">
                                {{ translation.Validation.Required }}
                            </span>
                            <span ng-show="formSubmit.registerSecurityCode.$error.minlength">
                                {{ translation.Validation.MinLength | stringFormat:[3] }}
                            </span>
                            <span ng-show="formSubmit.registerSecurityCode.$error.maxlength">
                                {{ translation.Validation.MaxLength }})
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div collapse="!((order.payment.paymentType == 1 || order.payment.paymentType == 4) && order.payment.creditCard == null)">
            <div class="col-lg-7 col-sm-7 col-xs-11 form-group">
                <span>
                    {{ translation.Label.CardNumber }}
                </span>
                <div class="custom-error-container">
                    <input id="creditCardNumber" name="creditCardNumber" type="text" maxlength="21" class="form-control" ng-model="order.payment.creditCardNumber"
                           ng-pattern="cardPattern" numbers-only="numbers-only" autofocus ng-minlength="14" ng-maxlength="20" ng-paste="disabledCopyPaste($event)"
                           ng-required="paymentBehavior.newCardIsRequired" validate-on-blur autocomplete="off" />

                    <div class="custom-error" ng-show="formSubmit.creditCardNumber.$showValidationMessage
                     && formSubmit.creditCardNumber.$invalid">
                        <span ng-show="formSubmit.creditCardNumber.$error.required">
                            {{ translation.Validation.Required }}
                        </span>
                        <span ng-show="formSubmit.creditCardNumber.$error.pattern">
                            {{ translation.Validation.InvalidCardNumber }}
                        </span>
                        <span ng-show="formSubmit.creditCardNumber.$error.minlength">
                            {{ translation.Validation.MinLength | stringFormat:[14] }}
                        </span>
                        <span ng-show="formSubmit.creditCardNumber.$error.maxlength">
                            {{ translation.Validation.MaxLength }}
                        </span>
                    </div>
                </div>
            </div>

            <div class="col-lg-5 col-sm-5 col-xs-11 form-group">
                <span>
                    {{ translation.Label.Validate }}
                </span>

                <br />

                <select class="input-sm" name="month" ng-model="order.payment.month"
                        ng-required="paymentBehavior.newCardIsRequired">
                    <option value="01">01</option>
                    <option value="02">02</option>
                    <option value="03">03</option>
                    <option value="04">04</option>
                    <option value="05">05</option>
                    <option value="06">06</option>
                    <option value="07">07</option>
                    <option value="08">08</option>
                    <option value="09">09</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>

                <select name="year" ng-model="order.payment.year" ng-options="c.value for c in years track by c.value"
                        ng-required="paymentBehavior.newCardIsRequired" class="input-sm"></select>

                <div class="custom-error-bottom" style="float: left"
                     ng-show="(formSubmit.month.$showValidationMessage && formSubmit.month.$invalid) || (formSubmit.year.$showValidationMessage && formSubmit.year.$invalid)">
                    <span ng-show="formSubmit.month.$error.required || formSubmit.year.$error.required ">
                        {{ translation.Validation.Required }}
                    </span>
                </div>
            </div>

            <div class="col-lg-7 col-sm-7 col-xs-11 form-group">
                <span>
                    {{ translation.Label.Holder }}
                </span>
                <span class="tip small holder">
                    ({{ translation.Label.AsItIsWrittenToTheCard }})
                </span>
                <div class="custom-error-container">
                    <input id="holder" name="holder" type="text" ng-maxlength="64" class="form-control" ng-model="order.payment.holder" ng-pattern="completeNamePattern"
                           ng-required="paymentBehavior.newCardIsRequired" autocomplete="off"
                           ng-paste="disabledCopyPaste($event)" validate-on-blur />
                    <div class="custom-error" ng-show="formSubmit.holder.$showValidationMessage && formSubmit.holder.$invalid">
                        <span ng-show="formSubmit.holder.$error.required">
                            {{ translation.Validation.InvalidHolderName }}
                        </span>
                        <span ng-show="formSubmit.holder.$error.pattern">
                            {{ translation.Validation.InvalidHolderNamePattern }}
                        </span>
                        <span ng-show="formSubmit.holder.$error.maxlength">
                            {{ translation.Validation.MaxLength }})
                        </span>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-sm-4 col-xs-11 form-group">
                <span>
                    {{ translation.Label.SecurityCode }}
                </span>
                <span class="glyphicon glyphicon-info-sign btn-xs tip pull-right">
                    <img src="/TransactionalVNext/Content/Images/security.png" alt="{{ translation.Information.SecurityCodeTitle }}" class="tooltip-custom" />
                </span>
                <div class="right-inner-addon">
                    <input id="securityCode" name="securityCode" type="text" ng-model="order.payment.securityCode" class="form-control"
                           numbers-only="numbers-only" ng-required="paymentBehavior.securityCodeIsRequired" autocomplete="off"
                           maxlength="4" ng-minlength="3" ng-maxlength="4" ng-paste="disabledCopyPaste($event)" validate-on-blur />

                    <div class="custom-error" ng-show="formSubmit.securityCode.$showValidationMessage && formSubmit.securityCode.$invalid">
                        <span ng-show="formSubmit.securityCode.$error.required">
                            {{ translation.Validation.Required }}
                        </span>
                        <span ng-show="formSubmit.securityCode.$error.minlength">
                            {{ translation.Validation.MinLength | stringFormat:[3] }})
                        </span>
                        <span ng-show="formSubmit.securityCode.$error.maxlength">
                            {{ translation.Validation.MaxLength }}
                        </span>
                    </div>
                </div>
            </div>

            <div class="col-lg-12 col-sm-12 col-xs-11 form-group">
                <span>
                    {{ translation.Label.Installments }}
                </span>
                <div class="right-inner-addon">
                    <select name="installments" ng-model="order.payment.installmentsValue" ng-options="i.Installments as i.Description for i in installments"
                            class="input-sm" ng-disabled="installments.length == 1" ng-required="paymentBehavior.newCardIsRequired"></select>
                    <div class="custom-error" ng-show="formSubmit.installments.$showValidationMessage && formSubmit.installments.$invalid">
                        <span ng-show="formSubmit.installments.$error.required">
                            {{ translation.Validation.Required }}
                        </span>
                    </div>
                </div>
            </div>

            <div class="col-lg-12 col-sm-12 col-xs-11" ng-show="order.payment.creditCard == null && paymentBehavior.isCielo">
                <div class="form-group">
                    <input type="checkbox" ng-model="order.payment.acceptedTerms">
                    {{ translation.Label.AcceptedTerms }}
                    <br />
                </div>
            </div>

            <div class="col-lg-12 col-sm-12 col-xs-11" ng-show="order.payment.creditCard == null && paymentBehavior.isCielo">
                <div class="form-group">
                    <input type="checkbox" ng-model="order.payment.acceptAgreement">
                    <label>
                        {{ translation.Label.IReadAndAccepted }}
                        <a target="_blank" href="/TransactionalVNext/Content/documents/Termos%20e%20condicoes%20de%20Uso_Cielo.pdf">
                            {{ translation.Label.TermsOfService }}
                        </a>
                    </label>
                </div>
            </div>

            <div class="col-lg-12 col-sm-12 col-xs-11" ng-show="creditCardCollection.length > 1">
                <div class="form-group">
                    <input id="creditCardIsDefault" type="checkbox" ng-model="order.payment.creditCardIsDefault">
                    {{ translation.Label.MainCard }}
                </div>
            </div>
        </div>
    </div>

    <div ng-if="order.payment.isVisaCheckout">
        <div class="form-group">
            <div class="form-group col-lg-6 col-sm-6 col-xs-11">
                <label>
                    {{ translation.Label.CardNumber }}:
                </label>
                <span>
                    <img ng-if="order.payment.brandImage != null" ng-src="/TransactionalVNext/img/payments/credit/{{ order.payment.brandImage }}.png" ng-cloak />
                    {{ order.payment.creditCardNumber }}
                </span>
            </div>

            <div class="form-group col-lg-6 col-sm-6 col-xs-11">
                <label>
                    {{ translation.Label.Validate }}:
                </label>
                <span>
                    {{ order.payment.month }} / {{ order.payment.year }}
                </span>
            </div>

            <div class="form-group col-lg-7 col-sm-7 col-xs-11">
                <label>
                    {{ translation.Label.Holder }}:
                </label>
                <span>
                    {{ order.payment.holder }}
                </span>
            </div>

            <div class="form-group col-lg-5 col-sm-5 col-xs-11">
                <a ng-click="selectOtherPayment()" class="form-group" style="cursor: pointer">
                    {{ translation.Label.ChooseAnotherPaymentMethod }}
                </a>
            </div>

            <div class="form-group col-lg-8 col-sm-8 col-xs-11">
                <label for="visaCheckoutInstallments">
                    {{ translation.Label.Installments }}
                </label>

                <select id="visaCheckoutInstallments" name="visaCheckoutInstallments" ng-model="order.payment.installmentsValue" ng-options="i.Installments as i.Description for i in installments"
                        class="form-control" ng-disabled="installments.length == 1" ng-required="paymentBehavior.installmentsIsRequired"></select>

                <div class="custom-error" ng-show="formSubmit.visaCheckoutInstallments.$showValidationMessage && formSubmit.visaCheckoutInstallments.$invalid">
                    <span ng-show="formSubmit.visaCheckoutInstallments.$error.required">
                        {{ translation.Validation.Required }}
                    </span>
                </div>
            </div>

            <div class="form-group col-lg-4 col-sm-4 col-xs-7">
                <label>
                    {{ translation.Label.SecurityCode }}
                </label>

                <span class="glyphicon glyphicon-info-sign btn-xs tip pull-right">
                    <img src="/TransactionalVNext/Content/Images/security.png"
                         alt="{{ translation.Information.SecurityCodeTitle }}" class="tooltip-custom" />
                </span>

                <div class="right-inner-addon">
                    <input id="visaCheckoutSecurityCode" name="visaCheckoutSecurityCode" type="text" ng-model="order.payment.securityCode" class="form-control"
                           numbers-only="numbers-only" validate-on-blur
                           ng-required="paymentBehavior.securityCodeIsRequired" autocomplete="off"
                           maxlength="4" ng-minlength="3" ng-maxlength="4"
                           ng-paste="disabledCopyPaste($event)" />

                    <div class="custom-error" ng-show="formSubmit.visaCheckoutSecurityCode.$showValidationMessage && formSubmit.visaCheckoutSecurityCode.$invalid">
                        <span ng-show="formSubmit.visaCheckoutSecurityCode.$error.required">
                            {{ translation.Validation.Required }}
                        </span>
                        <span ng-show="formSubmit.visaCheckoutSecurityCode.$error.minlength">
                            {{ translation.Validation.MinLength | stringFormat:[3] }}
                        </span>
                        <span ng-show="formSubmit.visaCheckoutSecurityCode.$error.maxlength">
                            {{ translation.Validation.MaxLength }})
                        </span>
                    </div>
                </div>
            </div>

            <div class="col-lg-12 col-sm-12 col-xs-11" ng-show="order.payment.creditCard == null && paymentBehavior.isCielo">
                <div class="form-group">
                    <input type="checkbox" ng-model="order.payment.acceptedTerms">
                    {{ translation.Label.AcceptedTerms }}
                    <br />
                </div>
            </div>

            <div class="col-lg-12 col-sm-12 col-xs-11" ng-show="order.payment.creditCard == null && paymentBehavior.isCielo">
                <div class="form-group">
                    <input type="checkbox" ng-model="order.payment.acceptAgreement">
                    <label>
                        {{ translation.Label.IReadAndAccepted }}
                        <a target="_blank" href="/TransactionalVNext/Content/documents/Termos%20e%20condicoes%20de%20Uso_Cielo.pdf">
                            {{ translation.Label.TermsOfService }}
                        </a>
                    </label>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-12"></div>
</div>



                                    <div ng-controller="BillingAddress" ng-show="billingAddressBehavior.displayBoxAddress" >
    <div class="form-group col-lg-12 col-xs-11 col-sm-12">
        <h2 class="legend">
            {{ translation.SubTitle.Billing }}
        </h2>
    </div>

    <div class="form-group col-lg-12 col-sm-12 col-xs-11" ng-show="billingAddressBehavior.enabledChoose">
        <input id="billingAddressSameAsShipping" name="billingAddressSameAsShipping" type="checkbox"
               ng-model="order.billingAddress.sameAsShippingAddress" autocomplete="off" />
        <span>
            {{ translation.Label.SameAsShippingAddress }}
        </span>
    </div>

    <div class="form-group col-lg-3 col-sm-3 col-xs-5" ng-show="billingAddressBehavior.formIsVisible">
        <span>
            {{ translation.Label.ZipCode }}
        </span>

        <span class="glyphicon glyphicon-info-sign btn-xs" popover="Ex.: 99999-999" popover-trigger="mouseenter">
        </span>
        <div class="right-inner-addon">
            <i class="glyphicon-loading" ng-show="displayBillingLoading" ng-init="displayBillingLoading=false"></i>
            <input id="billingZipCode" name="billingZipCode" type="text" class="form-control" ng-model="order.billingAddress.zipcode" ui-mask="99999-999"
                   ng-paste="disabledCopyPaste($event)" 
                   ng-disabled="billingAddressZipCodeDisabled" 
                   ng-required="billingAddressBehavior.isRequired" validate-on-blur autocomplete="off" />
            
            <div class="custom-error" ng-show="formSubmit.billingZipCode.$showValidationMessage && formSubmit.billingZipCode.$invalid">
                <span ng-show="formSubmit.billingZipCode.$error.required">
                    {{ translation.Validation.Required }}
                </span>
            </div>
        </div>
    </div>

    <div class="form-group col-lg-6 col-sm-9 col-xs-6" ng-show="billingAddressBehavior.formIsVisible">
        <div style="margin-top: 25px;">
            <a href="http://www.buscacep.correios.com.br/servicos/dnec/index.do" target="_blank" id="delivery-find-cep">
                {{ translation.Label.DoNotKnowTheZipCode }}
            </a>
        </div>
    </div>

    <div collapse="!billingAddressBehavior.zipCodeFound">
        <div class="form-group col-lg-12 col-xs-11 col-sm-12">
            <span>
                {{ translation.Label.Street }}
            </span>
            <div class="custom-error-container">
                <input name="billingStreet" ng-model="order.billingAddress.street" ng-required="billingAddressBehavior.isRequired"
                       ng-disabled="billingStreetDisabled" type="text" class="form-control" maxlength="256" ng-paste="disabledCopyPaste($event)"
                       validate-on-blur autocomplete="off" />
                <div class="custom-error" ng-show="formSubmit.billingStreet.$showValidationMessage && formSubmit.billingStreet.$invalid">
                    <span ng-show="formSubmit.billingStreet.$error.required">
                        {{ translation.Validation.Required }}
                    </span>
                    <span ng-show="formSubmit.billingStreet.$error.maxlength">
                        {{ translation.Validation.MaxLength }}
                    </span>
                </div>
            </div>
        </div>

        <div class="form-group col-lg-4 col-xs-11 col-sm-4">
            <span>
                {{ translation.Label.District }}
            </span>
            <div class="custom-error-container">
                <input name="billingDistrict" ng-model="order.billingAddress.district" ng-required="billingAddressBehavior.isRequired"
                       ng-disabled="billingDistrictDisabled" type="text" class="form-control" maxlength="64" ng-paste="disabledCopyPaste($event)"
                       validate-on-blur autocomplete="off" />
                <div class="custom-error" ng-show="formSubmit.billingDistrict.$showValidationMessage && formSubmit.billingDistrict.$invalid">
                    <span ng-show="formSubmit.billingDistrict.$error.required">
                        {{ translation.Validation.Required }}
                    </span>
                    <span ng-show="formSubmit.billingDistrict.$error.maxlength">
                        {{ translation.Validation.MaxLength }}
                    </span>
                </div>
            </div>
        </div>

        <div class="form-group col-lg-2 col-xs-5 col-sm-2">
            <span>
                {{ translation.Label.Number }}
            </span>
            <div class="custom-error-container">
                <input name="billingNumber" type="text" class="form-control" ng-model="order.billingAddress.number" maxlength="8" 
                       ng-paste="disabledCopyPaste($event)"
                       ng-disabled="billingNumberDisabled"
                       validate-on-blur autocomplete="off" />
                <div class="custom-error" ng-show="formSubmit.billingNumber.$showValidationMessage && formSubmit.billingNumber.$invalid">
                    <span ng-show="formSubmit.billingNumber.$error.maxlength">
                        {{ translation.Validation.MaxLength }}
                    </span>
                </div>
            </div>
        </div>

        <div class="form-group col-lg-6 col-xs-6 col-sm-6">
            <span>
                {{ translation.Label.Compl }}
            </span>
            <div class="custom-error-container">
                <input name="billingCompl" type="text" class="form-control" ng-disabled="billingComplDisabled" 
                       ng-model="order.billingAddress.compl"
                       maxlength="256" ng-paste="disabledCopyPaste($event)"
                       validate-on-blur autocomplete="off" />
                <div class="custom-error" ng-show="formSubmit.billingCompl.$showValidationMessage && formSubmit.billingCompl.$invalid">
                    <span ng-show="formSubmit.billingCompl.$error.maxlength">
                        {{ translation.Validation.MaxLength }}
                    </span>
                </div>
            </div>
        </div>

        <div class="form-group col-lg-8 col-xs-7 col-sm-8">
            <span>
                {{ translation.Label.City }}
            </span>
            <div class="custom-error-container">
                <input name="billingCity" ng-model="order.billingAddress.city" ng-disabled="billingCityDisabled" type="text"
                       class="form-control" ng-required="billingAddressBehavior.isRequired" maxlength="64"
                       ng-paste="disabledCopyPaste($event)" validate-on-blur autocomplete="off" />
                <div class="custom-error" ng-show="formSubmit.billingCity.$showValidationMessage && formSubmit.billingCity.$invalid">
                    <span ng-show="formSubmit.billingCity.$error.required">
                        {{ translation.Validation.Required }}
                    </span>
                    <span ng-show="formSubmit.billingCity.$error.maxlength">
                        {{ translation.Validation.MaxLength }}
                    </span>
                </div>
            </div>
        </div>

        <div class="form-group col-lg-4 col-xs-4 col-sm-4">
            <span>
                {{ translation.Label.State }}
            </span>
            <div class="custom-error-container">
                <input name="billingState" ng-model="order.billingAddress.state"
                       ng-disabled="billingStateDisabled" type="text" class="form-control" ng-required="billingAddressBehavior.isRequired" maxlength="2"
                       ng-paste="disabledCopyPaste($event)" validate-on-blur autocomplete="off" />
                <div class="custom-error" ng-show="formSubmit.billingState.$showValidationMessage && formSubmit.billingState.$invalid">
                    <span ng-show="formSubmit.billingState.$error.required">
                        {{ translation.Validation.Required }}
                    </span>
                    <span ng-show="formSubmit.billingState.$error.maxlength">
                        {{ translation.Validation.MaxLength }}
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>

                                    <div ng-if="order.payment.paymentType == 2">
                                        <div ng-controller="BoletoBillingAddress">
    <div class="col-lg-12">
        <h2 class="legend">
            {{ translation.SubTitle.Billing }}
        </h2>
    </div>

    <div class="col-lg-6" ng-if="boletobillingAddressBehavior.checkBoxSameAsShippingIsVisible">
        <input id="boletoBillingAddressSameAsShipping" name="boletoBillingAddressSameAsShipping" type="checkbox" 
               ng-model="order.boletoBillingAddress.sameAsShippingAddress" autocomplete="off" />
        <span>
            {{ translation.Label.SameAsShippingAddress }}
        </span>
    </div>

    <div class="form-group col-lg-3" ng-show="boletobillingAddressBehavior.zipCodeConsultIsVisible">
        <span>
            {{ translation.Label.ZipCode }}
        </span>
        <span class="glyphicon glyphicon-info-sign btn-xs" popover="Ex.: 99999-999" popover-trigger="mouseenter"></span>
        <div class="right-inner-addon">
            <i class="glyphicon-loading" ng-show="displayBillingLoading" ng-init="displayBillingLoading=false"></i>
            <input id="boletobillingZipCode" name="boletobillingZipCode" type="text" class="form-control"
                   ng-model="order.boletoBillingAddress.zipcode" ng-disabled="!boletobillingAddressBehavior.isRequired" ng-required="boletobillingAddressBehavior.isRequired"
                   ng-minlength="9" ui-mask="99999-999" maxlength="9" ng-paste="disabledCopyPaste($event)"
                   validate-on-blur autocomplete="off" />
            <div class="custom-error" ng-show="formSubmit.boletobillingZipCode.$showValidationMessage && formSubmit.boletobillingZipCode.$invalid">
                <span ng-show="formSubmit.billingZipCode.$error.required">
                    {{ translation.Validation.Required }}
                </span>
            </div>
        </div>
    </div>

    <div class="form-group col-lg-3" ng-show="boletobillingAddressBehavior.zipCodeConsultIsVisible">
        <div style="margin-top: 25px;">
            <a href="http://www.buscacep.correios.com.br/servicos/dnec/index.do" target="_blank" id="delivery-find-cep">
                {{ translation.Label.DoNotKnowTheZipCode }}
            </a>
        </div>
    </div>

    <div class="form-group col-lg-12"></div>

    <div collapse="!boletobillingAddressBehavior.formIsVisible">
        <div class="form-group col-lg-12 col-sm-12">
            <span>
                {{ translation.Label.Street }}
            </span>
            <div class="custom-error-container">
                <input id="boletobillingStreet" name="boletobillingStreet" ng-model="order.boletoBillingAddress.street" ng-required="boletobillingAddressBehavior.isRequired"
                       ng-disabled="billingStreetDisabled" type="text" class="form-control" maxlength="256" ng-paste="disabledCopyPaste($event)"
                       validate-on-blur autocomplete="off" />
                <div class="custom-error" ng-show="formSubmit.boletobillingStreet.$showValidationMessage && formSubmit.boletobillingStreet.$invalid">
                    <span ng-show="formSubmit.boletobillingStreet.$error.required">
                        {{ translation.Validation.Required }}
                    </span>
                    <span ng-show="formSubmit.boletobillingStreet.$error.maxlength">
                        {{ translation.Validation.MaxLength }}
                    </span>
                </div>
            </div>
        </div>

        <div class="form-group col-lg-4 col-sm-4">
            <span>
                {{ translation.Label.District }}
            </span>
            <div class="custom-error-container">
                <input id="boletobillingDistrict" name="boletobillingDistrict" ng-model="order.boletoBillingAddress.district" ng-required="boletobillingAddressBehavior.isRequired"
                       ng-disabled="billingDistrictDisabled" type="text" class="form-control" maxlength="64" ng-paste="disabledCopyPaste($event)"
                       validate-on-blur autocomplete="off" />
                <div class="custom-error" ng-show="formSubmit.boletobillingDistrict.$showValidationMessage && formSubmit.boletobillingDistrict.$invalid">
                    <span ng-show="formSubmit.boletobillingDistrict.$error.required">
                        {{ translation.Validation.Required }}
                    </span>
                    <span ng-show="formSubmit.boletobillingDistrict.$error.maxlength">
                        {{ translation.Validation.MaxLength }}
                    </span>
                </div>
            </div>
        </div>

        <div class="form-group col-lg-3 col-sm-3">
            <span>
                {{ translation.Label.Number }}
            </span>
            <div class="custom-error-container">
                <input id="boletobillingNumber" name="boletobillingNumber" type="text" class="form-control"
                       ng-model="order.boletoBillingAddress.number" maxlength="8" ng-paste="disabledCopyPaste($event)"
                       validate-on-blur autocomplete="off" />
                <div class="custom-error" ng-show="formSubmit.boletobillingNumber.$showValidationMessage && formSubmit.boletobillingNumber.$invalid">
                    <span ng-show="formSubmit.boletobillingNumber.$error.maxlength">
                        {{ translation.Validation.MaxLength }}
                    </span>
                </div>
            </div>
        </div>

        <div class="form-group col-lg-5 col-sm-5">
            <span>
                {{ translation.Label.Compl }}
            </span>
            <div class="custom-error-container">
                <input id="boletobillingCompl" name="boletobillingCompl" type="text" class="form-control"
                       ng-disabled="billingComplDisabled" ng-model="order.boletoBillingAddress.compl"
                       maxlength="256" ng-paste="disabledCopyPaste($event)" validate-on-blur autocomplete="off" />
                <div class="custom-error" ng-show="formSubmit.boletobillingCompl.$showValidationMessage && formSubmit.boletobillingCompl.$invalid">
                    <span ng-show="formSubmit.boletobillingCompl.$error.maxlength">
                        {{ translation.Validation.MaxLength }}
                    </span>
                </div>
            </div>
        </div>

        <div class="form-group col-lg-4 col-sm-4">
            <span>
                {{ translation.Label.City }}
            </span>
            <div class="custom-error-container">
                <input id="boletobillingCity" name="boletobillingCity" ng-model="order.boletoBillingAddress.city" ng-required="boletobillingAddressBehavior.isRequired"
                       ng-disabled="billingCityDisabled" type="text" class="form-control"
                       maxlength="64" ng-paste="disabledCopyPaste($event)" validate-on-blur autocomplete="off" />
                <div class="custom-error" ng-show="formSubmit.boletobillingCity.$showValidationMessage && formSubmit.boletobillingCity.$invalid">
                    <span ng-show="formSubmit.boletobillingCity.$error.required">
                        {{ translation.Validation.Required }}
                    </span>
                    <span ng-show="formSubmit.boletobillingCity.$error.maxlength">
                        {{ translation.Validation.MaxLength }}
                    </span>
                </div>
            </div>
        </div>

        <div class="form-group col-lg-8 col-sm-8">
            <span>
                {{ translation.Label.State }}
            </span>
            <div class="custom-error-container">
                <input id="boletobillingState" name="boletobillingState" ng-model="order.boletoBillingAddress.state"
                       ng-disabled="billingStateDisabled" type="text" class="form-control" ng-required="boletobillingAddressBehavior.isRequired"
                       maxlength="2" ng-paste="disabledCopyPaste($event)" validate-on-blur autocomplete="off" />
                <div class="custom-error" ng-show="formSubmit.boletobillingState.$showValidationMessage && formSubmit.boletobillingState.$invalid">
                    <span ng-show="formSubmit.boletobillingState.$error.required">
                        {{ translation.Validation.Required }}
                    </span>
                    <span ng-show="formSubmit.boletobillingState.$error.maxlength">
                        {{ translation.Validation.MaxLength }}
                    </span>
                </div>
            </div>
        </div>
        <div class="form-group col-lg-12"></div>
    </div>
</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-12 col-md-12">
                                <div id="guestAccount" ng-show="displayBoxIdentification()">
    <div class="row">
        <div class="col-sm-12 col-md-12">
            <div class="thumbnail-form">
                <div class="form-group col-lg-12">
                    <h2 class="legend">
                        {{ translation.Title.Identification }}
                    </h2>
                </div>

                <div class="form-group">
                    <div class="form-group col-lg-6 col-sm-6 col-xs-12">
                        <span>
                            {{ translation.Label.GuestName }}
                        </span>
                        <div class="custom-error-container">
                            <input id="guestName" name="guestName" type="text" class="form-control" ng-model="user.guest.fullName" placeholder="{{ translation.Label.GuestName }}"
                                   ng-required="user.isGuest" ng-paste="disabledCopyPaste($event)" autocomplete="off" ng-pattern="completeNamePattern" ng-maxlength="256"
                                   data-message-pattern="{{ translation.Validation.InvalidFullNamePattern }}" validate-on-blur />
                            
                            <div class="custom-error" ng-show="formSubmit.guestName.$showValidationMessage && formSubmit.guestName.$invalid">
                                <span ng-show="formSubmit.guestName.$error.required">
                                    {{ translation.Validation.Required }}
                                </span>
                                <span ng-show="formSubmit.guestName.$error.pattern">
                                    {{ translation.Validation.InvalidFullNamePattern }}
                                </span>
                                <span ng-show="formSubmit.guestName.$error.maxlength">
                                    {{ translation.Validation.MaxLength }}
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group col-lg-6 col-sm-6 col-xs-12">
                        <span>
                            {{ translation.Label.Identity }}
                        </span>
                        <div class="custom-error-container">
                            <input id="guestIdentity" name="guestIdentity" type="text" class="identity form-control" ng-model="user.guest.identity" ng-required="user.isGuest"
                                   ng-maxlength="18" placeholder=" {{ translation.Label.Identity }} " ng-pattern="identifyPattern"
                                   data-message-pattern="{{ translation.Validation.IndentifyInvalid }}" validate-on-blur autocomplete="off" ng-readonly="user.guest.cpfReadonly" />
                            <div class="custom-error" ng-show="formSubmit.guestIdentity.$showValidationMessage && formSubmit.guestIdentity.$invalid">
                                <span ng-show="formSubmit.guestIdentity.$error.required">
                                    {{ translation.Validation.Required }}
                                </span>
                                <span ng-show="formSubmit.guestIdentity.$error.pattern">
                                    {{ translation.Validation.IndentifyInvalid }}
                                </span>
                                <span ng-show="formSubmit.guestIdentity.$error.maxlength">
                                    {{ translation.Validation.MaxLength }}
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group col-lg-6 col-sm-6 col-xs-12">
                        <span>
                            {{ translation.Label.Email }}
                        </span>
                        <div class="custom-error-container">
                            <input id="guestEmail" name="guestEmail" type="email" class="form-control" ng-model="user.guest.email" placeholder="{{ translation.Label.Email }}"
                                   ng-required="user.isGuest" ng-paste="disabledCopyPaste($event)" ng-pattern="emailPattern" autocomplete="off" ng-maxlength="64" validate-on-blur />
                            <div class="custom-error" ng-show="formSubmit.guestEmail.$showValidationMessage && formSubmit.guestEmail.$invalid">
                                <span ng-show="formSubmit.guestEmail.$error.pattern">
                                    {{ translation.Validation.InvalidEmail }}
                                </span>
                                <span ng-show="formSubmit.guestEmail.$error.required">
                                    {{ translation.Validation.Required }}
                                </span>
                                <span ng-show="formSubmit.guestEmail.$error.email">
                                    {{ translation.Validation.InvalidEmail }}
                                </span>
                                <span ng-show="formSubmit.guestEmail.$error.maxlength">
                                    {{ translation.Validation.MaxLength }}
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group col-lg-6 col-sm-6 col-xs-12">
                        <span>
                            {{ translation.Label.ConfirmEmail }}
                        </span>
                        <div class="custom-error-container">
                            <input id="guestConfirmEmail" name="guestConfirmEmail" type="email" class="form-control" ng-model="user.guest.confirmEmail"
                                   placeholder="{{ translation.Label.ConfirmEmail }}" autocomplete="off"
                                   ui-validate="'$value == user.guest.email'" ui-validate-watch="'user.guest.email'"
                                   ng-paste="disabledCopyPaste($event)" validate-on-blur />
                            <div class="custom-error" ng-show="formSubmit.guestConfirmEmail.$showValidationMessage && formSubmit.guestConfirmEmail.$invalid">
                                <span ng-show="formSubmit.guestConfirmEmail.$error.validator && !formSubmit.guestConfirmEmail.$error.email ">{{ translation.Validation.EmailsDivergent }}</span>
                                <span ng-show="formSubmit.guestConfirmEmail.$error.email">
                                    {{ translation.Validation.InvalidEmail }}
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group col-lg-6 col-sm-6 col-xs-12">
                        <span>
                            {{ translation.Label.Phone }}
                        </span>
                        <div class="custom-error-container">
                            <input id="guestPhone" name="guestPhone" type="text" class="phone form-control" ng-model="user.guest.phone"
                                   placeholder="{{ translation.Label.Phone }}" ng-minlength="14" ng-pattern="phonePattern"
                                   ng-required="user.isGuest" ng-paste="disabledCopyPaste($event)" autocomplete="off" validate-on-blur ng-readonly="user.guest.phoneReadonly" />
                            <div class="custom-error" ng-show="formSubmit.guestPhone.$showValidationMessage && formSubmit.guestPhone.$invalid">
                                <span ng-show="formSubmit.guestPhone.$error.required">
                                    {{ translation.Validation.Required }}
                                </span>
                                <span ng-show="formSubmit.guestPhone.$error.pattern">
                                    {{ translation.Validation.InvalidPhonePattern }}
                                </span>
                                <span ng-show="formSubmit.guestEmail.$error.minlength">
                                    {{ translation.Validation.MinLength | stringFormat:[14] }}
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
                            </div>
                        </div>

                        <div class="row" ng-show="recaptchaIsRequired">
    <div class="col-sm-12 col-md-12">
        <div class="row">
            <div class="col-sm-12 col-md-12">
                <div class="thumbnail-form">
                    <div class="col-lg-12">
                        <h2 id="captcha-legend" class="legend" ng-bind="translation.Label.SecurityCheck"></h2>
                        <div id="recaptcha"></div>
                        <input type="hidden" id="captcha-response" />
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

                        <div class="row">
                            <div class="col-lg-12">
                                <p class="btn-submit">
                                    <button id="finalize" type="submit" ng-disabled="processing" class="button pull-right">
                                        {{ translation.Buttons.FinishPayment }}
                                    </button>
                                </p>
                            </div>
                        </div>

                    </form>
                </div>
                <div class="col-lg-4 col-sm-12 col-md-10 col-xs-12 pull-right">
                    <div id="sidebar" class="sidebar" ng-controller="ShoppingCart">
    <div class="submit"></div>
    <h3 class="caption">
        {{ translation.SubTitle.Summary }}
    </h3>
    <table class="summary-cart">
        <thead>
            <tr>
                <th class="left" style="width: 171px">
                    <span class="box">
                        {{ translation.Information.Product }}
                    </span>
                </th>
                <th class="center">
                    <span class="box">
                        {{ translation.Information.Quantity }}
                    </span>
                </th>
                <th class="right">
                    <span class="box">
                        {{ translation.Information.Price }}
                    </span>
                </th>
            </tr>
        </thead>

        <tbody>
            <tr ng-repeat="item in shoppingCartItens">
                <td class="left">
                    {{ item.Name }}
                </td>
                <td class="center">
                    {{ item.Quantity }}
                </td>
                <td class="right" nowrap="true">
                    {{ item.UnitPrice / 100 | currency }}
                </td>
            </tr>

            <tr ng-repeat="item in shoppingCartItens | filter: { ShowDescription: true }">
                <td colspan="3" class="left" ng-bind-html="formatItemDescription(item.Description)"></td>
            </tr>
        </tbody>

        <tfoot>
            <tr><td colspan="3"><span class="box">&nbsp;</span></td></tr>
            <tr>
                <td class="left" colspan="2" nowrap="true">
                    <span class="no-box">
                        {{ translation.Label.SubTotal }}
                    </span>
                </td>
                <td class="right" nowrap="true">
                    <span class="no-box">
                        {{ subTotalAmount / 100 | currency }}
                    </span>
                </td>
            </tr>

            <tr ng-show="discountDescription != null">
                <td class="left" colspan="2" nowrap="true" id="discountDescription">
                    <span class="no-box">
                        {{ discountDescription }}
                    </span>
                </td>
                <td class="right" nowrap="true">
                    <span class="no-box" style="color: #cc0000" id="discountAmount">
                        {{ discountAmount / 100 | currency }}
                    </span>
                </td>
            </tr>

            <tr ng-show="hasFirstInstallmentDiscount && order.payment.paymentType == 1">
                <td class="left" colspan="2" nowrap="true" id="firstInstallmentDiscountDescription">
                    <span class="no-box">
                        {{ translation.Label.FirstInstallmentDiscount }}
                    </span>
                </td>
                <td class="right" nowrap="true">
                    <span class="no-box" style="color: #cc0000" id="firstInstallmentDiscount">
                        {{ order.payment.firstInstallmentDiscount | currency }}
                    </span>
                </td>
            </tr>

            <tr ng-show="order.payment.paymentType == 2 && $parent.BoletoDiscount > 0">
                <td class="left" colspan="2" nowrap="true" id="boletoDiscountDescription">
                    <span class="no-box">
                        {{ translation.Label.BoletoDiscount }}
                    </span>
                </td>
                <td class="right" nowrap="true">
                    <span class="no-box" style="color: #cc0000" id="boletoDiscountValue">
                        {{ $parent.BoletoDiscount | currency }}
                    </span>
                </td>
            </tr>

            <tr ng-show="order.payment.paymentType == 3 && $parent.OnlineDebitDiscount > 0">
                <td class="left" colspan="2" nowrap="true" id="onlineDebitDiscountDescription">
                    <span class="no-box">
                        {{ translation.Label.OnlineDebitDiscount }}
                    </span>
                </td>
                <td class="right" nowrap="true">
                    <span class="no-box" style="color: #cc0000" id="onlineDebitDiscountValue">
                        {{ $parent.OnlineDebitDiscount | currency }}
                    </span>
                </td>
            </tr>
            <tr>
                <td class="left" colspan="2" id="shippingInfo">
                    <span class="no-box" ng-if="shippingType == shippingMethodTypes.correios">
                        <span ng-if="order.shipping.price == 0">
                            {{ translation.Information.ShippingTypeSelect }}
                        </span>
                        <span ng-if="order.shipping.price > 0">
                            {{ translation.Information.ShippingType }}
                        </span>
                    </span>
                    <span class="no-box" ng-if="shippingType == shippingMethodTypes.fixedAmount">
                        <span ng-if="order.shipping.price == 0">
                            {{ translation.Information.ShippingTypeSelect }}
                        </span>
                        <span ng-if="order.shipping.price > 0">
                            {{ translation.Information.ShippingType }}
                        </span>
                    </span>
                    <span class="no-box" ng-if="shippingType == shippingMethodTypes.free">
                        {{ translation.Information.ShippingTypeFree }}
                    </span>
                    <span class="no-box" ng-if="shippingType == shippingMethodTypes.withoutShippingPickUp">
                        {{ translation.Information.ShippingTypeWithoutShippingPickUp }}
                    </span>
                    <span class="no-box" ng-if="shippingType == shippingMethodTypes.withoutShipping">
                        {{ translation.Information.ShippingTypeWithoutShipping }}
                    </span>
                </td>

                <td class="right" nowrap="true" id="shippingAmount">
                    <span class="no-box">
                        {{ shippingAmount / 100 | currency }}
                    </span>
                </td>
            </tr>

            <tr></tr>

            <tr ng-if="order.payment.recurrent.isRecurrent">
                <td colspan="3">
                    <br />
                    <span style="font-size: 0.9em">
                        <i class="glyphicon glyphicon-refresh"></i>
                        {{ order.payment.recurrent.message }}
                    </span>
                </td>
            </tr>
        </tfoot>
    </table>
    <p class="total cf">
        {{ translation.Label.TotalAmount }}
        <strong class="total-val" id="TotalAmount">
            {{ totalAmount / 100 | currency }}
        </strong>
    </p>

    <div class="cielo_bottom_info">
        <img src="/TransactionalVNext/img/flags/brazil.png" />
        <span>{{ translation.Information.TransactionProcessedInBrazil }}</span>
    </div>

    <img src="/TransactionalVNext/Content/Images/cielo_selo_seguranca.jpg" alt="BuyPage Cielo" title="BuyPage Cielo" id="cielo" class="pull-right" style="padding-right: 3px;" />

<img src="/TransactionalVNext/Content/Images/secureCode_logo.png" border="0" alt=""
     class="pull-left masterSecureCode" ng-show="order.displaySecureCodeMaster" />

<div class="verifyByVisa" ng-show="order.displayVerifyByVisa">
    <img src="/TransactionalVNext/Content/Images/vbv_logo_small.png" border="0" alt="" class="pull-left" />
    <a id="linkMoreInfo" href="javascript:void(0)">Saiba Mais</a>
    <div id="visa-tooltip-container">
        <div id="visa-tooltip-box">
            <a id="visa-tooltip-close" href="javascript:void(0)">
                <span style="font-size: 14px;" title="Fechar">X</span>
            </a>
            <p><span class="visa-gold-text">Venda segura - Verified by Visa</span></p>
            <br />
            <p>
                Para compras que utilizam o serviço
                Verified by Visa, você será autenticado
                pelo seu banco. Você deve preencher os
                dados solicitados e será direcionado para
                o ambiente seguro do seu banco.
                No ambiente seguro do seu banco,
                confira as informações referentes à sua
                compra e forneça os dados solicitados,
                que podem ser: tabela com códigos
                de segurança, token eletrônico,
                perguntas secretas ou dados que
                somente você e seu banco conhecem.
                Após seu banco validar os dados
                digitados, você deverá aguardar para que
                seu pedido seja confirmado pela loja.
            </p>
            <br />
            <p><a href="http://visa.com.br/tutorialvbv/" class="visa-gold-text" target="_blank">Clique aqui </a>e assista o vídeo.</p>
        </div>
        <div id="arrow-down"></div>
    </div>
</div>
</div>
                </div>
            </div>
        </div>
        <div class="panel-footer">
            Vers&#227;o: 2.0.15.0
        </div>
    </div>

    <div id='receiptModal' class='modal fade' tabindex='-1' role='dialog' aria-labelledby='myModalLabel'
         aria-hidden='false' data-keyboard='false' data-backdrop='static'>
        <div class='modal-dialog'>
            <div class='modal-content'>
                <div class='modal-header'>
                    <img src="/TransactionalVNext/Content/Images/logo-cielo.png" alt="Checkout Cielo" title="Checkout Cielo"/>
                    <h4 class='modal-title' id='myModalLabel' style='text-align: center'>
                        {{ translation.Label.Thanks }},
                        <span ng-if="user.isGuest"> {{ user.guest.fullName }} </span>
                        <span ng-if="user.isGuest == false"> {{ user.name }} </span>
                    </h4>
                </div>

                <div class='modal-body'>
                    <div class="row">
                        <div class="col-lg-12">
                            <p>
                                {{ translation.Information.YourOrderHasBeenReceived }}
                                {{ order.merchantName }},
                                {{ translation.Information.NowJustWait }}

                                <a ng-if="user.isGuest" href="mailto:{{ user.guest.email }}" target="_blank">
                                    {{ user.guest.email }}
                                </a>
                                <a ng-if="user.isGuest == false" href="mailto:{{ user.email }}" targe target="_blank">
                                    {{ user.email }}
                                </a>.
                            </p>

                            <p>
                                {{ translation.Information.YouCanQueryStatus }} <a href="https://cieloecommerce.cielo.com.br/backoffice" target="_blank">https://cieloecommerce.cielo.com.br/backoffice</a>
                            </p>

                            <p>
                                {{ translation.Label.OrderNumber }}:
                                <strong>
                                    {{ order.orderNumber }}
                                </strong>
                            </p>
                        </div>
                    </div>
                </div>
                <div class='modal-footer'>
                   <a ng-href="{{ order.payment.boletoViewerUrl }}" ng-show="order.payment.boletoViewerUrl != null" class="button"> {{ translation.Label.BoletoPrint }} </a> &nbsp;&nbsp;&nbsp;
                    <a ng-href="{{ order.returnUrl }}" ng-show="order.returnUrl != null && order.returnUrl != ''" ng-click="redirectToMerchant(order.returnUrl)" class="button"> {{ translation.Label.ReturnToStore }} </a>
                </div>
            </div>
        </div>
    </div>

</div>
-->

    




    
   